"use strict";!function(){exist,app={},app.Router=Backbone.Router.extend({routes:{"":"home"},home:function(){this.feedListView?this.feedListView.render():this.feedListView=new app.feedListView({collection:app.feeds}),this.feedListViewyt?this.feedListViewyt.renderyt():this.feedListViewyt=new app.feedListViewyt({collection:app.feedsyt}),this.feedListViewfb?this.feedListViewfb.renderfb():this.feedListViewfb=new app.feedListViewfb({collection:app.feedsfb})}}),app.Feed=Backbone.Model.extend({defaults:{id:"",type:"",title:"",description:"",content:"",url:"",comment_url:"",like_url:"",thumbnail:"",author:"",created:"",updated:"",time:"",custom:"",twLength:null}}),app.FeedList=Backbone.Collection.extend({model:app.Feed}),app.feeds=new app.FeedList(twitterJSON),app.feedsyt=new app.FeedList(youtubeJSON),app.feedsfb=new app.FeedList(facebookJSON),exist=app.feedsfb.length,app.FeedView=Backbone.View.extend({tagName:"li",className:"feedTag",template:_.template($("#feedTemplate").html()),render:function(){return this.$el.html(this.template(this.model.toJSON())),this}}),app.FeedViewyt=Backbone.View.extend({tagName:"li",className:"feedTagyt",template:_.template($("#feedTemplateyt").html()),renderyt:function(){return this.$el.html(this.template(this.model.toJSON())),this}}),app.FeedViewfb=Backbone.View.extend({tagName:"li",className:"feedTagfb",template:_.template($("#feedTemplatefb").html()),renderfb:function(){return null==exist&&(this.template=""),this.$el.html(this.template(this.model.toJSON())),this}}),app.feedListView=Backbone.View.extend({el:".tw",initialize:function(){this.render()},render:function(){this.$el.empty(),this.collection.each(function(e){this.renderBook(e)},this)},renderBook:function(e){var t=new app.FeedView({model:e});this.$el.append(t.render().el)}}),app.feedListViewyt=Backbone.View.extend({el:".yt",initialize:function(){this.renderyt()},renderyt:function(){this.$el.empty(),this.collection.each(function(e){this.renderFeedyt(e)},this)},renderFeedyt:function(e){var t=new app.FeedViewyt({model:e});this.$el.append(t.renderyt().el)}}),app.feedListViewfb=Backbone.View.extend({el:".fb",initialize:function(){this.renderfb()},renderfb:function(){this.$el.empty(),this.collection.each(function(e){this.renderFeedfb(e)},this)},renderFeedfb:function(e){var t=new app.FeedViewfb({model:e});this.$el.append(t.renderfb().el)}}),$(function(){function e(e,t){$("#sh-twitter, #sh-twitter-popup").mouseenter(function(){$("#sh-twitter-popup").attr("style","display:"+e+" !important")}),$("#sh-twitter, #sh-twitter-popup").mouseleave(function(){$("#sh-twitter-popup").attr("style","display: "+t+" !important")}),$("#sh-google, #sh-google-popup").mouseenter(function(){$("#sh-google-popup").attr("style","display: "+e+" !important")}),$("#sh-google, #sh-google-popup").mouseleave(function(){$("#sh-google-popup").attr("style","display: "+t+" none !important")})}function t(e){$(".bxslider").bxSlider({minSlides:e,maxSlides:e,slideWidth:170,slideMargin:10,auto:!0,touchEnabled:!1,nextText:'<i class="icon-caret-right"></i>',prevText:'<i class="icon-caret-left"></i>',adaptiveHeight:!0,pager:!1,autoStart:!1,speed:500})}function i(e){var t;$span=$(".stripeBottomyt span a"),$span.each(function(i){$str=$(this).text(),$strLen=$str.length,$strLen>=e?(t=$str.substring(0,e),$(this).text(t+"...")):$strLen<e&&$(this).html($str)})}new app.Router,Backbone.history.start();!function(){var n=$(window).width();n>="320"&n<="479"?(e("none","none"),t(1),i(55)):n>="480"&n<="599"?(e("none","none"),t(2),i(55)):n>="600"&n<="766"?(e("none","none"),t(2),i(55)):n>="767"&n<="979"?(e("none","none"),t(3),i(55)):n>="980"&n<="1199"?(e("block","none"),t(3),i(55)):n>="1200"&&(e("block","none"),t(4),i(60))}(),$bxwrapper=$(".bx-wrapper").filter(":last"),0==exist?$bxwrapper.hide():$bxwrapper.show()})}();